# Search Bridge Configuration
# Copy this file to .env and update with your values

# API Server
SEARCH_BRIDGE_HOST=0.0.0.0
SEARCH_BRIDGE_PORT=52100
SEARCH_BRIDGE_API_SECRET=change-this-secret-key-in-production
SEARCH_BRIDGE_WEBHOOK_SECRET=change-this-webhook-secret-in-production

# CORS Configuration
# SECURITY WARNING: Never use "*" in production - it disables CORS protection!
# Development (allow all origins):
# SEARCH_BRIDGE_CORS_ORIGINS=*
# Development (localhost only):
SEARCH_BRIDGE_CORS_ORIGINS=http://localhost:3000
# Production (specific origins - RECOMMENDED):
# SEARCH_BRIDGE_CORS_ORIGINS=https://app.example.com,https://admin.example.com

# Redis Queue (for async job processing)
# Example using Firecrawl's Redis: redis://10.1.0.6:4303
SEARCH_BRIDGE_REDIS_URL=redis://localhost:6379

# Qdrant Vector Store
# Example using qdrant.tootie.tv: https://qdrant.tootie.tv
SEARCH_BRIDGE_QDRANT_URL=http://100.74.16.82:6333
SEARCH_BRIDGE_QDRANT_COLLECTION=firecrawl_docs
SEARCH_BRIDGE_VECTOR_DIM=1024

# HuggingFace Text Embeddings Inference
# Example using tei.tootie.tv: https://tei.tootie.tv
# Note: Vector dimension must match the model's output (Qwen3-Embedding-0.6B = 1024 dims)
SEARCH_BRIDGE_TEI_URL=http://localhost:80
SEARCH_BRIDGE_EMBEDDING_MODEL=Qwen/Qwen3-Embedding-0.6B

# Chunking Configuration (TOKEN-BASED, NOT CHARACTER-BASED!)
# Max tokens per chunk (must match model's max_seq_length)
SEARCH_BRIDGE_MAX_CHUNK_TOKENS=256
# Overlap between chunks in tokens (10-20% is standard)
SEARCH_BRIDGE_CHUNK_OVERLAP_TOKENS=50

# Search Configuration
# Alpha value for hybrid search (0.0 = only BM25, 1.0 = only vector)
SEARCH_BRIDGE_HYBRID_ALPHA=0.5

# Logging
SEARCH_BRIDGE_LOG_LEVEL=INFO

# BM25 Configuration
SEARCH_BRIDGE_BM25_K1=1.5
SEARCH_BRIDGE_BM25_B=0.75

# RRF Configuration
SEARCH_BRIDGE_RRF_K=60

# PostgreSQL Database (for timing metrics)
# Format: postgresql+asyncpg://username:password@host:port/database
# IMPORTANT: Use asyncpg driver for async operations (NOT psycopg2)
SEARCH_BRIDGE_DATABASE_URL=postgresql+asyncpg://fc_bridge:changeme@localhost:5432/fc_bridge
